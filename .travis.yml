language: python

python:
- "2.7"
- "3.4"
- "3.5"
- "3.6"
- "pypy"

# Use container-based infrastructure
sudo: false

install:
  - pip install coverage

script: nosetests --with-coverage --cover-package=twitter

after_success:
  - coveralls
  - pip install pep8 pyflakes
  - pep8 twitter/*.py
  - pyflakes twitter/*.py
  - pep8 tests/*.py
  - pyflakes tests/*.py

matrix:
  allow_failures:
    - python: "pypy"
